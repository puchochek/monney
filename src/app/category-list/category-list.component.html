<div class="categories-list-container">
	<div class="categories-list-header-container">
		<div class="categories-list-header">
			<div class="categories-list-header-title">
				Expenses
			</div>
			<div class="categories-list-header-actions">
				<mat-menu #rootMenu="matMenu">
					<button mat-menu-item class="custom-menu" (click)="openAddCategoryModal()">Add new category</button>
					<button mat-menu-item class="custom-menu" [matMenuTriggerFor]="subMenu">Sort categories by</button>

				</mat-menu>

				<mat-menu #subMenu="matMenu">
					<button mat-menu-item *ngFor="let menuItem of subMenuItems"
						(click)="sortCategoriesByField(menuItem)" class="custom-menu">{{menuItem}}</button>
				</mat-menu>

				<button mat-icon-button [matMenuTriggerFor]="rootMenu" matTooltip="Manage expense categories">
					<mat-icon class="header-menu-btn">menu</mat-icon>
				</button>
			</div>
		</div>

	</div>
	<div class="categories-list-content" *ngIf="categories?.length > 0 else noCategories">
		<div class="categories-list" *ngFor="let category of categories">
			<div class="category-item">
				<div class="category-avatar">
					<igx-avatar initials={{category.initials}} roundShape="true" bgColor={{category.bgColor}}
						color={{category.color}} class="category-avatar"
						routerLink="/categories/{{category.name}}/new/{{category.id}}" matTooltip="Add new expense">
					</igx-avatar>
				</div>
				<div class="category-details">
					<div class="category-name">
						{{category.name}}
					</div>
					<div class="category-actions-menu">
						<mat-menu #appMenu="matMenu">
							<button mat-menu-item class="custom-menu" *ngFor="let menuItem of expenseMenuItems"
								(click)="menuItem.action(category)">{{menuItem.name}}</button>
						</mat-menu>
						<button mat-icon-button [matMenuTriggerFor]="appMenu" matTooltip="More ations">
							<mat-icon>more_horiz</mat-icon>
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<ng-template #noCategories>
		<div class="no-categories-message">
			Hello, {{appUser.name}}. You don't have any expense categories for now. It would be great to add some to
			keep
			your finances in order.
		</div>
	</ng-template>
</div>